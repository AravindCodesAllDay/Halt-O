<div
  class="flex flex-col fixed mt-4 h-fit m-3 w-full sm:w-4/5 z-20 duration-500 ease-in-out transition-colors translate-x-[-50%]"
>
  <div
    class="flex items-center justify-between rounded-full px-4 py-2 shadow-xl"
    [ngClass]="{
      'bg-black bg-opacity-60 text-white': isScroll(),
      'bg-white text-black': !isScroll()
    }"
  >
    <a href="/" class="flex items-center gap-2">
      <img
        src="../../assets/logo.png"
        alt="halt-o logo"
        class="size-6 sm:size-10"
      />
      <h2 class="text-base sm:text-2xl font-bold text-primary">HALT-O</h2>
    </a>

    <svg
      (click)="toggleMenu()"
      xmlns="http://www.w3.org/2000/svg"
      class="icon icon-tabler icon-tabler-layout-navbar-expand size-5 sm:size-12 flex sm:hidden"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="#000000"
      fill="none"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path
        d="M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"
      />
      <path d="M4 9h16" />
      <path d="M10 14l2 2l2 -2" />
    </svg>

    <ul class="gap-8 font-medium hidden sm:flex">
      @for(page of pages();track page.path){
      <li>
        <a
          [href]="page.path"
          class="hover:text-primary"
          [ngClass]="{
            'text-primary': isActive(page.path)
          }"
          >{{ page.name }}</a
        >
      </li>
      }
    </ul>
    <a href="/contact">
      <button
        class="flex bg-primary px-2 sm:px-4 sm:py-1 rounded-full text-white font-semibold items-center"
      >
        Contact us
        <svg
          class="size-4 sm:size-6"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7 17L17 7M17 7H8M17 7V16"
            stroke="#fff"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </a>
  </div>
  @if (menuOpen()) {
  <div
    class="flex flex-col sm:hidden mt-3 rounded-md"
    [ngClass]="{
      'bg-black bg-opacity-60 text-white': isScroll(),
      'bg-white text-black': !isScroll()
    }"
  >
    <ul class="p-3 text-center">
      @for(page of pages();track page.path){
      <a
        [href]="page.path"
        class="hover:text-primary"
        [ngClass]="{
          'text-primary': isActive(page.path)
        }"
      >
        <li class="border-b-2 p-1">
          {{ page.name }}
        </li>
      </a>
      }
    </ul>
  </div>
  }
</div>
